#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>

// Function to display the question and start timer
void displayQuestion(char *question, char *options[], int *answer, time_t *startTime) {
    printf("%s\n", question);
    for (int i = 0; i < 4; i++) {
        printf("%d. %s\n", i+1, options[i]);
    }
    printf("Enter your answer (1-4): ");
    scanf("%d", answer);
    *startTime = time(NULL);
}

// Function to check the answer given by the user
int checkAnswer(int answer, int correctAnswer) {
    if (answer == correctAnswer) {
        printf("Your answer is correct!\n");
        return 1;
    } else {
        printf("Your answer is incorrect. The correct answer is option %d\n", correctAnswer);
        return 0;
    }
}

int main() {
    char *questions[5] = {
        "What is the capital city of Indonesia?",
        "Who was the first president of Indonesia?",
        "Who invented the telephone?",
        "Who created the computer algorithm?",
        "Who invented Microsoft Windows?"
    };

    char *options[5][4] = {
        {"A. Jakarta", "B. Surabaya", "C. Bandung", "D. Bali"},
        {"A. Joko Widodo", "B. Susilo Bambang Yudhoyono", "C. Soekarno", "D. Megawati Soekarnoputri"},
        {"A. Thomas Alva Edison", "B. Alexander Graham Bell", "C. Nikola Tesla", "D. Michael Faraday"},
        {"A. Ada Lovelace", "B. Charles Babbage", "C. Alan Turing", "D. Tim Berners-Lee"},
        {"A. Bill Gates", "B. Steve Jobs", "C. Mark Zuckerberg", "D. Jeff Bezos"}
    };

    int correctAnswers[5] = {1, 3, 2, 3, 1};
    int score = 0;
    int answer;
    time_t startTime, currentTime;

    // Loop to ask questions
    for (int i = 0; i < 5; i++) {
        displayQuestion(questions[i], options[i], &answer, &startTime);
        currentTime = time(NULL);
        if (checkAnswer(answer, correctAnswers[i]) && (currentTime - startTime) <= 10) {
            score += 200000;
        } else {
            printf("You have failed in this game\n");
            printf("Your total score: %d\n", score);
            exit(0);
        }
    }

    // If the user successfully answers all questions
    printf("Congratulations, you have won a prize of Rp 1,000,000\n");
    printf("Your total score: %d\n", score);

    return 0;
}
